\usepackage{fontspec}

\usepackage[T1]{fontenc}
\usepackage{cmbright} %for math only, will be overwritten
\renewcommand\bfdefault{sb}
\newcommand\sbdefault{bx} % swap sb with bf

\setmainfont[
  Ligatures = TeX,
%  Numbers = Uppercase,
%  Numbers = Lowercase,
%  Numbers = Oldstyle,
  ItalicFont = CMU Bright Oblique,
  BoldFont = CMU Bright SemiBold,
  BoldItalicFont = CMU Bright SemiBold Oblique,
]{CMU Bright}
\setmonofont[Numbers=Lining]{CMU Typewriter Text Light}


% https://tex.stackexchange.com/questions/204778/difficulty-finding-selecting-cm-bright-using-fontspec
% https://tex.stackexchange.com/questions/358418/using-cmbright-in-xelatex-for-math-and-text
% https://tex.stackexchange.com/questions/25293/replace-integral-sign-in-cmu-bright-with-iwona-while-keeping-proper-position-o
% https://tex.stackexchange.com/questions/572015/using-the-cmbright-package-in-a-limited-range-of-my-document

\DeclareSymbolFont{iwonalargesymbols}{OMX}{iwona}{m}{n}
\DeclareMathSymbol{\intop}{\mathop}{iwonalargesymbols}{"52}

\usepackage[%
  protrusion=true,
  expansion,
  final,
  tracking=true,
  letterspace=120,
  factor=1000,%(/1000), subtle
  stretch=10,%(/1000 %)
  shrink=10
]{microtype}

% upper and lowercase number commands
\def\togunums{}
\def\toglnums{}
\def\lnum#1{#1}
\def\unum#1{#1}


% why doesn't this work ???
%\usepackage{unicode-math}
%\setmathfont{CMU Bright}
%    \setmathfont[range=\mathup]{CMU Bright Roman}
%    \setmathfont[range=\mathbfup]{CMU Bright SemiBold}
%    \setmathfont[range=\mathbfit]{CMU Bright SemiBold}
%    \setmathfont[range=\mathit]{CMU Bright Oblique}



