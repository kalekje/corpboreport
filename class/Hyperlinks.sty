
\usepackage{bookmark}
\usepackage{hyperref}
\hypersetup{
hidelinks,
colorlinks=false,%
bookmarksnumbered=true,%
bookmarksopen=true,%         
bookmarksopenlevel=1,                  
pdfstartview=Fit,%           
pdfpagemode=UseOutlines,%
pdfpagelayout=TwoPageRight
}

\AtBeginDocument{
\if@twoside
    \hypersetup{pdfpagelayout=TwoPageRight}
\else \fi
}

\usepackage[nameinlink,noabbrev]{cleveref}  % cref

%% REFERENCING SECTIONS - lowercase s for sections, uppercase everything else
\Crefname{section}{Section}{Sections}% {<type>}{<singular>}{<plural>}
\Crefname{equation}{equation}{equations}% {<type>}{<singular>}{<plural>}
\Crefname{appsec}{Appendix}{Appendices}
\Crefname{table}{Table}{Tables}
\Crefname{figure}{Figure}{Figures}
\Crefname{frame}{Slide}{Slides}
\Crefname{lstlisting}{Listing}{Listings}

\crefname{section}{section}{sections}% {<type>}{<singular>}{<plural>}
\crefname{equation}{equation}{equations}% {<type>}{<singular>}{<plural>}
\crefname{appsec}{appendix}{appendices}
\crefname{table}{table}{tables}
\crefname{figure}{figure}{figures}
\crefname{frame}{slide}{slides}
\crefname{lstlisting}{listing}{listings}

\creflabelformat{equation}{#2#1#3}
\crefrangelabelformat{equation}{#3#1#4 to #5#2#6}

\providetoggle{useSerif}
\iftoggle{useSerif}{
    \crefdefaultlabelformat{#2{\toglnums#1}#3}
}{}


% https://tex.stackexchange.com/questions/10555/hyperref-warning-token-not-allowed-in-a-pdf-string/330980#330980
\pdfstringdefDisableCommands{% to clean pdf attributes string
\def\\{}%
\def\smaller{}%
\def\texttt#1{<#1>}%
\def\textbf#1{<#1>}%
\def\textit#1{<#1>}%
}

\usepackage[a-3u]{pdfx}

\begin{luacode*}
    __PDFmetadata__ = {Language='en-ca'}
\end{luacode*}



